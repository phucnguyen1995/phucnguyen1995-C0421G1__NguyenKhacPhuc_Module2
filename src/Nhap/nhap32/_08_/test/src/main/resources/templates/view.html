<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="/bootstrap4/css/bootstrap.css">
</head>
<body>

<div class="container-fluid bg-light border ">
    <div class="row">
        <div class="col-lg-12 pt-3 pb-3">
                <div class="alert alert-primary" role="alert">
                <h4 class="alert-heading">Information : </h4>
                <div>
                    <div class="card mb-3" style="width: 70%;margin:20px 15%">
                        <div class="row no-gutters">
                            <div class="col-md-6">
                                <img src="/image/spthi.jpg" style="width: 100%">
                            </div>
                            <div class="col-md-6">
                                <div class="card-body">

                                    <table style="text-align: center;width: 90%">
                                        <tr><h5 class="card-title" th:text="${deal.dealCode}"
                                                style="text-align: center"></h5></tr>
                                        <tr>
                                            <td>Code :</td>
                                            <td th:text="${deal.dealCode}"></td>
                                        </tr>
                                        <tr>
                                            <td>Customer :</td>
                                            <td th:text="${deal.customer.customerName}"></td>
                                        </tr>
                                        <tr>
                                            <td>Customer Phone :</td>
                                            <td th:text="${deal.customer.customerPhone}"></td>
                                        </tr>
                                        <tr>
                                            <td>Customer Email:</td>
                                            <td th:text="${deal.customer.customerEmail}"></td>
                                        </tr>
                                        <tr>
                                            <td>Date :</td>
                                            <td th:text="${deal.dateTime}"></td>
                                        </tr>
                                        <tr>
                                            <td>Service :</td>
                                            <td>
                                                <p style="margin-top: 8px" th:if="${deal.serviceName}==1">Đất</p>
                                                <p style="margin-top: 8px" th:if="${deal.serviceName}==2">Nhà đất</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Area (m2) :</td>
                                            <td th:text="${deal.area}"></td>
                                        </tr>
                                        <tr>
                                            <td>Money (VND) :</td>
                                            <td th:text="${deal.money}"></td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="mb-0" style="margin-left: 80%">
                    <a href="/">
                        <button type="button" class="btn btn-warning m-2">Back Home</button>
                    </a>
                    <button class="btn btn-danger" data-toggle="modal" data-target="#myModal"
                            th:data-parameter1="${deal.dealId}"
                            th:data-parameter2="${deal.customer.customerName}"
                            onclick="showModal(this.getAttribute('data-parameter1'),this.getAttribute('data-parameter2'))">
                        Delete
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <!--        -->
        <form th:action="@{/delete}" method="get">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="myModalLabel">Accept delete transaction</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    Do you want to delete :
                    <span style="color: red" id="customerName"></span>???
                </div>
                <div class="modal-footer">
                    <input type="button" class="btn btn-secondary" data-dismiss="modal" value="Cancel">
                    <input type="submit" class="btn btn-danger btn-ok" id="delete" value="Delete">
             <!---->
                    <input type="hidden" id="dealId" name="id">
                </div>
            </div>
        </form>
    </div>
</div>


<script type="text/javascript">
    function showModal(id, name) {
        document.getElementById("dealId").value = id;
        document.getElementById("customerName").innerText = name;
    }
</script>


<script src="/jquery/jquery-3.5.1.min.js"></script>
<script src="/jquery/popper.min.js"></script>
<script src="/bootstrap4/js/bootstrap.js"></script>

</body>
</html>